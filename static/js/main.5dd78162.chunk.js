(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{22:function(e,t,a){e.exports=a(38)},27:function(e,t,a){},28:function(e,t,a){},36:function(e,t,a){e.exports=a.p+"static/media/logo.e0deeafc.png"},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a.n(c),o=(a(27),a(14)),s=a(3),l=a(4),m=a(5),d=a(8),u=a(6),p=a(9),_=(a(28),a(2)),h=a(10),E=a(17);var f=function(){return r.a.createElement("div",{className:"top_bar"},r.a.createElement("div",{className:"top_bar_half left"},r.a.createElement("div",{className:"top_bar_half_item"},r.a.createElement("a",{href:"mailto:kamilbartusik@gmail.com"},r.a.createElement(_.a,{icon:h.a}),r.a.createElement("span",null,"kamilbartusik@gmail.com"))),r.a.createElement("div",{className:"top_bar_half_item"},r.a.createElement("a",{href:"tel:+48572105334"},r.a.createElement(_.a,{icon:h.b}),r.a.createElement("span",null,"+48 572 105 334"))),r.a.createElement("div",{className:"top_bar_half_item"},r.a.createElement("a",{href:"https://github.com/thesvst",target:"_blank"},r.a.createElement(_.a,{icon:E.a}))),r.a.createElement("div",{className:"top_bar_half_item"},r.a.createElement("a",{href:"https://www.linkedin.com/in/kamil-bartusik-a79917159/",target:"_blank"},r.a.createElement(_.a,{icon:E.b})))),r.a.createElement("div",{className:"top_bar_half right"},r.a.createElement("div",{className:"top_bar_half_item"},r.a.createElement(_.a,{icon:h.d}),r.a.createElement("span",null,"Strefa klienta"))))},v=a(13),N=function(e){var t=e.data,a=t.prod,n=t.index,c=a.id,i=a.name,o=a.imageUrl,s=a.amount,l=a.price;return r.a.createElement("div",{key:"cart_item_no_".concat(n),className:"header_content_cart_dropdown_item"},r.a.createElement("div",{onClick:function(){T.dispatch(function(e){return{type:"DELETE",id:e}}(c))},className:"header_content_cart_dropdown_item_remove"},"X"),r.a.createElement("div",{className:"header_content_cart_dropdown_item_image"},r.a.createElement("img",{src:o,alt:i})),r.a.createElement("div",{className:"header_content_cart_dropdown_item_content"},r.a.createElement("div",{className:"header_content_cart_dropdown_item_title"},i),r.a.createElement("div",{className:"header_content_cart_dropdown_item_price"},r.a.createElement("div",{className:"cart_amount"},r.a.createElement("div",{onClick:function(){return T.dispatch(function(e){return{type:"DECREMENT",id:e}}(c))},className:"handleAmount"},"-"),r.a.createElement("span",{className:"priceAmount"},"".concat(s)),r.a.createElement("div",{onClick:function(){return T.dispatch(function(e,t){return{type:"INCREMENT",id:e,prodsArr:t}}(c))},className:"handleAmount"},"+")),"x",r.a.createElement("span",{className:"red"},l,"z\u0142"))))},g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).dropdownHandler=function(e){a.setState({isActive:e})},a.state={isActive:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.isActive,t=this.props,a=t.handler,n=t.search,c=this.dropdownHandler;return r.a.createElement("div",{className:"header_content_searchbar_wrapper"},r.a.createElement("div",{className:"header_content_searchbar"},r.a.createElement("label",{htmlFor:"search"},r.a.createElement("input",{onBlur:function(){return c(!1)},onFocus:function(){return c(!0)},className:"search_input",placeholder:"Wpisz minimum 4 znaki...",onChange:function(e){return a(e)},type:"text",name:"search"})),r.a.createElement("button",null,"Jem!"),n&&r.a.createElement("div",{className:"header_content_searchbar_dropdown "+(e?"active":"")},n.map((function(e){var t=e.name,a=e.imageUrl,n=e.price;return r.a.createElement("div",{className:"header_content_searchbar_dropdown_item"},r.a.createElement("img",{src:a,alt:t}),r.a.createElement("div",null,t),r.a.createElement("div",null,n," z\u0142"))})))))}}]),t}(n.Component),b=function(e){var t=e.logoSrc;return r.a.createElement("div",{className:"header_content_logo"},r.a.createElement("a",{href:window.location.origin},r.a.createElement("img",{src:t,alt:"Kamil Bartusik Shop"})))},w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).logoSrc=a(36),n.inputHandler=function(e){var t=e.target.value.toUpperCase();if(t.length>3){var a=n.props.products.filter((function(e){return e.name.toUpperCase().includes(t)}));n.setState({search:a})}else n.setState({search:[]})},n.cartHandler=function(e){n.setState({openCart:e})},n.state={search:[],openCart:!1,price:0},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.search,n=t.openCart,c=t.price,i=this.logoSrc,o=this.cartHandler,s=this.props.cartProducts;return r.a.createElement("div",{className:"header_content"},r.a.createElement(b,{logoSrc:i}),r.a.createElement(g,{handler:function(t){return e.inputHandler(t)},search:a}),r.a.createElement("div",{onMouseLeave:function(){return o(!1)},onMouseEnter:function(){return o(!0)},className:"header_content_cart"},r.a.createElement("div",{className:"header_content_cart_price"},r.a.createElement("span",{className:"price"},c),r.a.createElement("span",{className:"currency"},"z\u0142")),r.a.createElement(_.a,{icon:h.c}),r.a.createElement("div",{className:"header_content_cart_dropdown "+(n?"active":"")},s.map((function(e,t){return r.a.createElement(N,{data:{prod:e,index:t}})})),r.a.createElement("div",{className:"header_content_cart_dropdown_summary"},r.a.createElement("div",null,"Razem:"),r.a.createElement("div",null,"".concat(c,"z\u0142"))))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.cartProducts,a=0;return t.map((function(e){return a+=e.price*e.amount})),{price:a.toFixed(2)}}}]),t}(n.Component),O=Object(v.b)((function(e){return{cartProducts:e.productsInCart,products:e.productsList}}))(w);var k=function(){return r.a.createElement("div",{className:"header"},r.a.createElement(f,null),r.a.createElement(O,null))};var y=function(e){var t=e.data,a=t.sliderProducts,n=t.addToCart;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"product_list"},a.map((function(e){return r.a.createElement("li",{key:"product_no_".concat(e.id),className:"product_list_item"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(e.imageUrl,")")},className:"product_list_item_image"}),r.a.createElement("div",{className:"product_list_item_name"},e.name),r.a.createElement("div",{className:"product_list_item_price"},e.price," z\u0142"),r.a.createElement("button",{className:"product_list_item_add_to_cart",onClick:function(){return n(e.id)}},"Dodaj do koszyka!"))}))))},C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).addToCart=function(e){var t=T.getState().productsList;T.dispatch(function(e,t){return{type:"ADD_PRODUCT",id:e,prodsArr:t}}(e,t))},e.state={sliderProducts:[]},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"setSliderProducts",value:function(e){for(var t=[];t.length<12;){var a=e[Math.floor(500*Math.random())];t.filter((function(e,t){return e.id===t+1}))&&t.push(a)}this.setState({sliderProducts:t})}},{key:"componentDidMount",value:function(){var e=this,t=fetch("https://api.allorigins.win/get?url=".concat(encodeURIComponent("https://www.reasonapps.pl/data.json"))).then((function(e){return e.json()})),a=fetch("https://pixabay.com/api/?key=15600885-ededef8c94654366119e37af4&q=dinner&image_type=photo&per_page=200&page=1").then((function(e){return e.json()})),n=fetch("https://pixabay.com/api/?key=15600885-ededef8c94654366119e37af4&q=dinner&image_type=photo&per_page=200&page=2").then((function(e){return e.json()})),r=fetch("https://pixabay.com/api/?key=15600885-ededef8c94654366119e37af4&q=dinner&image_type=photo&per_page=100&page=3").then((function(e){return e.json()}));Promise.all([t,a,n,r]).then((function(t){var a=[].concat(Object(s.a)(t[1].hits),Object(s.a)(t[2].hits),Object(s.a)(t[3].hits)),n=JSON.parse(t[0].contents).map((function(e,t){return Object(o.a)({},e,{imageUrl:a[t].largeImageURL,amount:1})}));T.dispatch({type:"ADD_PRODUCTS",array:n}),e.setSliderProducts(n)}))}},{key:"render",value:function(){var e=this.state.sliderProducts,t=this.addToCart;return r.a.createElement("div",{className:"shopping_cart_wrapper"},r.a.createElement(k,null),r.a.createElement("div",{className:"main_content"},r.a.createElement(y,{data:{sliderProducts:e,addToCart:t}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=a(7),D=Object(j.b)({productsInCart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.id,n=Object(s.a)(e),r=function(e,t){var a=n.findIndex((function(t){return t.id===e})),r=Object(o.a)({},n[a]);return"INCREMENT"===t?(r.amount+=1,n[a]=r):"DECREMENT"===t&&r.amount>1&&(r.amount-=1,n[a]=r),n};switch(t.type){case"INCREMENT":return r(a,"INCREMENT");case"DECREMENT":return r(a,"DECREMENT");case"DELETE":return n.filter((function(e){return e.id!==t.id}));case"ADD_PRODUCT":var c=n.find((function(e){return e.id===t.id}));return c?r(a,"INCREMENT"):[].concat(Object(s.a)(e),[t.prodsArr[t.id-1]]);default:return[]}},productsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCTS":return t.array;default:return e}}});a(37);a.d(t,"store",(function(){return T}));var T=Object(j.c)(D,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(r.a.createElement(v.a,{store:T},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.5dd78162.chunk.js.map